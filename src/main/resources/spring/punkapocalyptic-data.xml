<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd">

	<context:component-scan
		base-package="com.wandrell.tabletop.punkapocalyptic.punkabuilder.data.util" />

	<util:list id="dataSources" value-type="java.io.Reader">
		<!-- Armors -->
		<ref bean="readerModelArmor" />
		<!-- Melee weapons -->
		<ref bean="readerModelWeaponMelee" />
		<!-- Ranged weapons -->
		<ref bean="readerModelWeaponRanged" />
		<!-- Equipment -->
		<ref bean="readerModelEquipment" />
		<!-- Weapon enhancements -->
		<ref bean="readerModelWeaponEnhancement" />
		<!-- Factions -->
		<ref bean="readerModelFaction" />
		<!-- Faction units -->
		<ref bean="readerModelFactionUnit" />
		<!-- Faction weapon enhancements -->
		<ref bean="readerModelFactionWeaponEnhancement" />
		<!-- Faction equipment -->
		<ref bean="readerModelFactionEquipment" />
		<!-- Units -->
		<ref bean="readerModelUnit" />
		<!-- Unit armors -->
		<ref bean="readerModelUnitArmor" />
		<!-- Unit weapons -->
		<ref bean="readerModelUnitWeapon" />
		<!-- Unit equipment -->
		<ref bean="readerModelUnitEquipment" />
		<!-- Unit weapon enhancements -->
		<ref bean="readerModelUnitEnhancement" />
		<!-- Unit mutations -->
		<ref bean="readerModelUnitMutation" />
		<!-- Mutations -->
		<ref bean="readerModelMutation" />
		<!-- Mutations -->
		<ref bean="readerModelFactionView" />
	</util:list>

	<util:map id="repositoryMap">
		<entry key="armor">
			<ref bean="armorRepo" />
		</entry>
		<entry key="enhancement">
			<ref bean="enhancementRepo" />
		</entry>
		<entry key="equipment">
			<ref bean="equipmentRepo" />
		</entry>
		<entry key="faction">
			<ref bean="factionRepo" />
		</entry>
		<entry key="mutation">
			<ref bean="mutationRepo" />
		</entry>
		<entry key="rule">
			<ref bean="ruleRepo" />
		</entry>
		<entry key="unit">
			<ref bean="unitRepo" />
		</entry>
		<entry key="weapon">
			<ref bean="weaponRepo" />
		</entry>
		<entry key="weapon_melee">
			<ref bean="weaponRepo" />
		</entry>
		<entry key="weapon_ranged">
			<ref bean="weaponRepo" />
		</entry>
		<entry key="unit_armor">
			<ref bean="unitArmorRepo" />
		</entry>
		<entry key="armor_option">
			<ref bean="armorOptionRepo" />
		</entry>
		<entry key="unit_equipment">
			<ref bean="unitEquipmentRepo" />
		</entry>
		<entry key="unit_mutation">
			<ref bean="unitMutationRepo" />
		</entry>
		<entry key="unit_weapon">
			<ref bean="unitWeaponRepo" />
		</entry>
		<entry key="faction_unit">
			<ref bean="factionUnitRepo" />
		</entry>
		<entry key="faction_unit">
			<ref bean="factionUnitRepo" />
		</entry>
		<entry key="faction_view">
			<ref bean="factionViewRepo" />
		</entry>
	</util:map>

	<util:map id="dataBundles">
		<entry key="faction">
			<ref bean="factionNameBundle" />
		</entry>
	</util:map>

	<!-- MODEL SERVICE READERS -->

	<!-- INVENTORY -->

	<!-- Armor readers -->
	<bean id="readerModelArmor" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.armor.file}" />
	</bean>

	<!-- Equipment readers -->
	<bean id="readerModelEquipment" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.equipment.file}" />
	</bean>

	<!-- Melee weapon readers -->
	<bean id="readerModelWeaponMelee" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.weapon.melee.file}" />
	</bean>

	<!-- Ranged weapon readers -->
	<bean id="readerModelWeaponRanged" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.weapon.ranged.file}" />
	</bean>

	<!-- Weapon enhancement readers -->
	<bean id="readerModelWeaponEnhancement" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.enhancement.file}" />
	</bean>

	<!-- MUTATION -->

	<!-- Mutation readers -->
	<bean id="readerModelMutation" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.mutation.file}" />
	</bean>

	<!-- FACTION -->

	<!-- Factions readers -->
	<bean id="readerModelFaction" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.faction.file}" />
	</bean>

	<!-- Faction units readers -->
	<bean id="readerModelFactionUnit" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.unit.file}" />
	</bean>

	<!-- Faction weapon enhancement readers -->
	<bean id="readerModelFactionWeaponEnhancement" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.enhancement.faction.file}" />
	</bean>

	<!-- Faction equipment readers -->
	<bean id="readerModelFactionEquipment" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.equipment.faction.file}" />
	</bean>

	<!-- UNIT -->

	<!-- Unit readers -->
	<bean id="readerModelUnit" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String" value="${model.conf.unit.file}" />
	</bean>

	<!-- Unit armor readers -->
	<bean id="readerModelUnitArmor" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.armor.file}" />
	</bean>

	<!-- Unit weapon readers -->
	<bean id="readerModelUnitWeapon" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.weapon.file}" />
	</bean>

	<!-- Unit equipment readers -->
	<bean id="readerModelUnitEquipment" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.equipment.unit.file}" />
	</bean>

	<!-- Unit weapon enhancement readers -->
	<bean id="readerModelUnitEnhancement" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.enhancement.unit.file}" />
	</bean>

	<!-- Unit mutation readers -->
	<bean id="readerModelUnitMutation" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.availability.mutation.unit.file}" />
	</bean>

	<!-- Faction view readers -->
	<bean id="readerModelFactionView" class="com.wandrell.util.ResourceUtils"
		factory-method="getClassPathReader">
		<constructor-arg type="java.lang.String"
			value="${model.conf.view.faction.file}" />
	</bean>

</beans>